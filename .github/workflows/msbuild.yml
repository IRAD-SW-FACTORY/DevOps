name: .NET Framework msbuild and dotnet
on: [push]
jobs:
  Check-Version:
    runs-on: ['self-hosted', 'Windows', 'X64']
    steps:
      - name: MSBuild version
        run: msbuild /version
      - name: dotnet version
        run: dotnet --version
  Build:
    runs-on: ['self-hosted', 'Windows', 'X64']
    steps:
      - uses: actions/checkout@v2
      - name: Build .NET7
        run: dotnet build src\net7_empty\NET7.csproj
      - name: Build .NET46 app for release
        run: msbuild src\NET46\NET46.sln -t:rebuild -property:Configuration=Release
      - name: Build .NET48 app for release
        run: msbuild src\NET48\NET48.csproj -t:rebuild -property:Configuration=Release
